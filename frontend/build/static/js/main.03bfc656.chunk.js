(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{40:function(e,t,n){e.exports=n(67)},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(34),i=n.n(o),c=n(1),l=n(8),u=n(3),s=n(2),d=n(11),m=n(12),b=n(14),p=n(13),h=n(10),g=n.n(h);function f(){var e=Object(c.a)(["\n  color: red;\n  margin: 20px auto;\n  font-size: 1.4rem;\n  background-color: #333;\n"]);return f=function(){return e},e}function E(){var e=Object(c.a)(["\n  font-size: 1.4rem;\n"]);return E=function(){return e},e}function v(){var e=Object(c.a)(["\n  display: block;\n  font-size: 2rem;\n  text-align: center;\n"]);return v=function(){return e},e}function x(){var e=Object(c.a)(["\n  width: 100%;\n  margin: 0 auto 20px auto;\n  padding: 20px;\n  box-sizing: border-box;\n  font-size: 1.6rem;\n  background-color: #333;\n  color: wheat;\n"]);return x=function(){return e},e}function w(){var e=Object(c.a)(["\n  width: 100%;\n  margin: 0 auto 20px auto;\n  padding: 20px;\n  box-sizing: border-box;\n  font-size: 1.6rem;\n  border: none;\n"]);return w=function(){return e},e}function j(){var e=Object(c.a)(["\n  width: 400px;\n  height: auto;\n  /* border: 1px solid red; */\n  /* margin: auto; */\n  /* background-color: #333; */\n  /* box-sizing: border-box; */\n"]);return j=function(){return e},e}var O=s.a.form(j()),S=s.a.input(w()),k=s.a.button(x()),z=s.a.label(v()),y=Object(s.a)(l.b)(E()),P=s.a.p(f()),L=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).onSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var n=t.target.email.value,a=t.target.password.value;console.log({email:n,password:a}),g.a.post("http://localhost:5000/signin",{email:n,password:a}).then((function(t){window.localStorage.setItem("token",t.data.token),console.log(localStorage.getItem("token")),e.setState({redirect:!0})})).catch((function(t){e.setState({error:!0,loading:!1})}))},e.state={loading:!1,error:!1},e}return Object(m.a)(n,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(u.a,{to:"/home"}):this.state.loading?r.a.createElement("h1",null,"Loading..."):r.a.createElement(O,{onSubmit:this.onSubmit},this.state.error&&r.a.createElement(P,null,"Wrong Email/Password"),r.a.createElement(z,null,"Email"),r.a.createElement(S,{type:"text",placeholder:"Email",name:"email"}),r.a.createElement(z,null,"Password"),r.a.createElement(S,{type:"password",placeholder:"Password",name:"password"}),r.a.createElement(k,{type:"submit"},"Signin"),r.a.createElement(y,{to:"/forgotpassword"},"Forgot Password"))}}]),n}(a.Component);function C(){var e=Object(c.a)(["\n    float: left;\n    width: 20%;\n    padding: 20px;\n    border: 1px solid black;\n    text-align: center;\n  "]);return C=function(){return e},e}function D(){var e=Object(c.a)(['\n    & {\n      margin: 0;\n      padding: 0;\n      list-style: none;\n    }\n    &:after {\n      content: "";\n      clear: both;\n      display: block;\n    }\n  ']);return D=function(){return e},e}function q(){var e=Object(c.a)(["\n    width: 90%;\n    margin: auto;\n    height: 20%;\n    border: 1px solid;\n  "]);return q=function(){return e},e}function I(){var e=s.a.nav(q()),t=s.a.ul(D()),n=s.a.li(C());return r.a.createElement(e,null,r.a.createElement(t,null,r.a.createElement(n,null,r.a.createElement(l.b,{to:"/signup"}," Register")),r.a.createElement(n,null," ",r.a.createElement(l.b,{to:"/signin"},"Login")," ")))}function R(){var e=Object(c.a)(["\n  color: red;\n  margin: 20px auto;\n  font-size: 1.4rem;\n  background-color: #333;\n"]);return R=function(){return e},e}function A(){var e=Object(c.a)(["\n  display: block;\n  font-size: 2rem;\n  text-align: center;\n"]);return A=function(){return e},e}function F(){var e=Object(c.a)(["\n  width: 100%;\n  margin: 0 auto 20px auto;\n  padding: 20px;\n  box-sizing: border-box;\n  font-size: 1.6rem;\n  background-color: #333;\n  color: wheat;\n"]);return F=function(){return e},e}function J(){var e=Object(c.a)(["\n  width: 100%;\n  margin: 0 auto 20px auto;\n  padding: 20px;\n  box-sizing: border-box;\n  font-size: 1.6rem;\n  border: none;\n"]);return J=function(){return e},e}function Y(){var e=Object(c.a)(["\n  width: 400px;\n  height: auto;\n  /* border: 1px solid red; */\n  /* margin: auto; */\n  /* background-color: #333; */\n  /* box-sizing: border-box; */\n"]);return Y=function(){return e},e}var M=s.a.form(Y()),N=s.a.input(J()),B=s.a.button(F()),H=s.a.label(A()),T=s.a.p(R()),U=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).onSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var n=t.target.name.value,a=t.target.email.value,r=t.target.password.value;g.a.post("http://localhost:5000/signup",{name:n,email:a,password:r}).then((function(t){e.setState({redirect:!0})})).catch((function(t){e.setState({error:!0})}))},e.state={name:"",email:"",password:"",error:!1,loading:!1},e}return Object(m.a)(n,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(u.a,{to:"/signin"}):this.state.loading?r.a.createElement("h1",null,"Loading....."):r.a.createElement(M,{onSubmit:this.onSubmit},this.state.error&&r.a.createElement(T,null,this.state.error),r.a.createElement(H,null,"Name"),r.a.createElement(N,{type:"text",placeholder:"Name",name:"name",required:!0}),r.a.createElement(H,null,"Email"),r.a.createElement(N,{type:"text",placeholder:"Email",name:"email",required:!0}),r.a.createElement(H,null,"Password"),r.a.createElement(N,{type:"password",placeholder:"Password",name:"password",required:!0}),r.a.createElement(B,{type:"submit"},"Singup"))}}]),n}(a.Component);function W(){var e=Object(c.a)(["\n  background-color: #fff;\n  color: red;\n  font-size: 2rem;\n"]);return W=function(){return e},e}function G(){var e=Object(c.a)(["\n  display: block;\n  font-size: 2rem;\n  text-align: center;\n"]);return G=function(){return e},e}function K(){var e=Object(c.a)(["\n  width: 100%;\n  margin: 0 auto 20px auto;\n  padding: 20px;\n  box-sizing: border-box;\n  font-size: 1.6rem;\n  background-color: #333;\n  color: wheat;\n"]);return K=function(){return e},e}function Q(){var e=Object(c.a)(["\n  width: 100%;\n  margin: 0 auto 20px auto;\n  padding: 20px;\n  box-sizing: border-box;\n  font-size: 1.6rem;\n  border: none;\n"]);return Q=function(){return e},e}function V(){var e=Object(c.a)(["\n  width: 400px;\n  height: auto;\n  /* border: 1px solid red; */\n  /* margin: auto; */\n  /* background-color: #333; */\n  /* box-sizing: border-box; */\n"]);return V=function(){return e},e}var X=s.a.form(V()),Z=s.a.input(Q()),$=s.a.button(K()),_=s.a.label(G()),ee=s.a.h1(W()),te=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).handleSubmit=function(t){t.preventDefault(),e.setState({loading:!0});var n=t.target.email.value;g.a.post("http://localhost:5000/forget",{email:n}).then((function(t){"mail sent"==t.data.message?e.setState({emailSent:!0,loading:!1}):e.setState({error:!0})})).catch((function(t){e.setState({error:!0})}))},e.state={emailSent:!1,error:!1,loading:!1},e}return Object(m.a)(n,[{key:"render",value:function(){return this.state.loading?r.a.createElement("h1",null,"Loading...."):r.a.createElement(X,{onSubmit:this.handleSubmit},this.state.emailSent&&r.a.createElement(ee,null,"Email Sent"),this.state.error&&r.a.createElement(ee,null,"Error Occured, there might be a problem with the server or your email"),r.a.createElement("h1",null,"Forgot Your Password ? Just Reset it "),r.a.createElement(_,null,"Email"),r.a.createElement(Z,{type:"text",placeholder:"Enter Your Email",name:"email"}),r.a.createElement($,{type:"submit"},"Send Confirmation Link"))}}]),n}(a.Component),ne=n(39),ae=function(e){var t=e.component,n=Object(ne.a)(e,["component"]);return r.a.createElement(u.b,Object.assign({},n,{render:function(e){return localStorage.getItem("token")?r.a.createElement(t,e):r.a.createElement(u.a,{to:"/signin"})}}))},re=n(22),oe=n.n(re),ie=n(38),ce=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).getData=Object(ie.a)(oe.a.mark((function e(){var t,n;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("http://localhost:5000/name",{headers:{Authorization:localStorage.getItem("token")}});case 2:t=e.sent,n=t.data.message,a.setState({loading:!1,name:n});case 5:case"end":return e.stop()}}),e)}))),a.handleSubmit=function(e){e.preventDefault(),localStorage.removeItem("token"),a.setState({redirect:!0})},a.state={loading:!0},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"render",value:function(){return this.state.loading?r.a.createElement("h1",null,"Loading....."):this.state.redirect?r.a.createElement(u.a,{to:"/signin"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Your name is ",this.state.name),r.a.createElement("button",{onClick:this.handleSubmit},"Logout"))}}]),n}(a.Component);function le(){var e=Object(c.a)(["\n  background-color: #fff;\n  color: red;\n"]);return le=function(){return e},e}function ue(){var e=Object(c.a)(["\n  width: 100%;\n  margin: 0 auto 20px auto;\n  padding: 20px;\n  box-sizing: border-box;\n  font-size: 1.6rem;\n  background-color: #333;\n  color: wheat;\n"]);return ue=function(){return e},e}function se(){var e=Object(c.a)(["\n  width: 100%;\n  margin: 0 auto 20px auto;\n  padding: 20px;\n  box-sizing: border-box;\n  font-size: 1.6rem;\n  border: none;\n"]);return se=function(){return e},e}function de(){var e=Object(c.a)(["\n  width: 400px;\n  height: auto;\n  /* border: 1px solid red; */\n  /* margin: auto; */\n  /* background-color: #333; */\n  /* box-sizing: border-box; */\n"]);return de=function(){return e},e}var me=s.a.form(de()),be=s.a.input(se()),pe=s.a.button(ue()),he=s.a.p(le()),ge=function(e){Object(b.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(d.a)(this,n),(e=t.call(this)).checkPassword=function(t){var n=t.target.value;document.querySelector("#password").value!==n?e.setState({match:!1}):e.setState({match:!0})},e.handleSubmit=function(t){t.preventDefault();var n=t.target.password.value;console.log(n),g.a.post("http://localhost:5000/updatepassword",{password:n},{headers:{Authorization:e.state.token}}).then((function(t){console.log(t.data),e.setState({updated:!0})}))},e.state={loading:!0,updated:!1,error:!1,allowed:!1,match:!0},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.token;g.a.get("http://localhost:5000/resetpassword",{headers:{Authorization:t}}).then((function(t){console.log(t.data),e.setState({loading:!1,allowed:!0,token:t.data.token})})).catch((function(t){e.setState({loading:!1,error:!0})}))}},{key:"render",value:function(){return this.state.loading?r.a.createElement("h1",null,"Loading...."):this.state.updated?r.a.createElement("h1",null,"Password Reset Successful, Please Login"):this.state.error?r.a.createElement("h1",null,"This Link has Expired , Please Request for reset password link"," ",r.a.createElement(l.b,{to:"/forgotpassword"},"again")):r.a.createElement(me,{onSubmit:this.handleSubmit},r.a.createElement(be,{id:"password",type:"password",name:"password",placeholder:"Password",required:!0}),r.a.createElement(be,{type:"password",name:"cfpassword",placeholder:"Confirm Password",onChange:this.checkPassword,required:!0}),!this.state.match&&r.a.createElement(he,null,"Password doesn't match"),r.a.createElement(pe,null,"Update Password"))}}]),n}(a.Component);function fe(){var e=Object(c.a)(["\n  margin: none;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  min-height: 80vh;\n"]);return fe=function(){return e},e}var Ee=s.a.section(fe()),ve=function(){return r.a.createElement(l.a,null,r.a.createElement(I,null),r.a.createElement(Ee,null," ",r.a.createElement(u.b,{exact:!0,path:"/"},r.a.createElement("h1",null,"Hello from Landing")),r.a.createElement(u.b,{exact:!0,path:"/signin"},r.a.createElement(L,null)," "),r.a.createElement(u.b,{exact:!0,path:"/signup"},r.a.createElement(U,null)),r.a.createElement(u.b,{exact:!0,path:"/forgotpassword"},r.a.createElement(te,null)),r.a.createElement(u.b,{exact:!0,path:"/resetpassword/:token",component:ge}),r.a.createElement(ae,{component:ce,path:"/home",exact:!0})))},xe=document.getElementById("root");i.a.render(r.a.createElement(ve,null),xe)}},[[40,1,2]]]);
//# sourceMappingURL=main.03bfc656.chunk.js.map